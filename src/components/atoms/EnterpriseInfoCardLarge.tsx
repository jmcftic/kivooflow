import { cn } from "@/lib/utils"
import React from "react"

interface EnterpriseInfoCardLargeProps {
  primaryText: string;
  secondaryText: string;
  className?: string;
  gradientColor?: string;
  backgroundColor?: string;
  height?: number;
  showChart?: boolean;
}

// SVG Background para el componente grande - dimensiones fijas 541x172
const LargeCardSVG = () => (
  <svg 
    width="100%" 
    height="100%" 
    viewBox="0 0 541 172" 
    fill="none" 
    xmlns="http://www.w3.org/2000/svg"
    preserveAspectRatio="none"
  >
    <mask id="path-1-inside-1_9123_6897" fill="white">
      <path d="M541 0.049407C541 0.0766229 540.978 0.0987137 540.951 0.0988136L501.922 0.242188C501.051 0.219151 500.473 0.247381 500.46 0.248047L501.922 0.242188C503.578 0.285987 506.295 0.517753 508.209 1.49023C511.141 2.98017 528.107 18.6244 533.553 23.5908C539.679 29.1781 540.54 35.3956 540.656 36.7364C540.664 36.824 540.781 36.8546 540.833 36.7837C540.886 36.7118 541 36.7492 541 36.8386V164C541 168.418 537.418 172 533 172H8.21778C3.7995 172 0.217773 168.418 0.217773 164V8C0.217773 3.58173 3.7995 0 8.21777 0H540.951C540.978 0 541 0.0221203 541 0.049407Z"/>
    </mask>
    <path d="M541 0.049407C541 0.0766229 540.978 0.0987137 540.951 0.0988136L501.922 0.242188C501.051 0.219151 500.473 0.247381 500.46 0.248047L501.922 0.242188C503.578 0.285987 506.295 0.517753 508.209 1.49023C511.141 2.98017 528.107 18.6244 533.553 23.5908C539.679 29.1781 540.54 35.3956 540.656 36.7364C540.664 36.824 540.781 36.8546 540.833 36.7837C540.886 36.7118 541 36.7492 541 36.8386V164C541 168.418 537.418 172 533 172H8.21778C3.7995 172 0.217773 168.418 0.217773 164V8C0.217773 3.58173 3.7995 0 8.21777 0H540.951C540.978 0 541 0.0221203 541 0.049407Z" fill="#212020"/>
    <path d="M541 0.049407C541 0.0766229 540.978 0.0987137 540.951 0.0988136L501.922 0.242188C501.051 0.219151 500.473 0.247381 500.46 0.248047L501.922 0.242188C503.578 0.285987 506.295 0.517753 508.209 1.49023C511.141 2.98017 528.107 18.6244 533.553 23.5908C539.679 29.1781 540.54 35.3956 540.656 36.7364C540.664 36.824 540.781 36.8546 540.833 36.7837C540.886 36.7118 541 36.7492 541 36.8386V164C541 168.418 537.418 172 533 172H8.21778C3.7995 172 0.217773 168.418 0.217773 164V8C0.217773 3.58173 3.7995 0 8.21777 0H540.951C540.978 0 541 0.0221203 541 0.049407Z" fill="url(#paint0_linear_9123_6897)" fillOpacity="0.2"/>
    <path d="M500.46 0.248047L500.409 -0.750662L500.464 1.24804L500.46 0.248047ZM508.209 1.49023L508.662 0.598721L508.662 0.598714L508.209 1.49023ZM533.553 23.5908L534.227 22.852L534.227 22.852L533.553 23.5908ZM540.833 36.7837L541.638 37.3763L540.833 36.7837ZM540.656 36.7364L541.652 36.6498L540.656 36.7364ZM540.951 0.0988136L540.947 -0.90118L540.951 0.0988136ZM540.951 0.0988136L540.947 -0.90118L501.918 -0.757806L501.922 0.242188L501.926 1.24218L540.954 1.09881L540.951 0.0988136ZM501.922 0.242188L501.948 -0.757463C501.046 -0.781331 500.442 -0.752312 500.409 -0.750662L500.46 0.248047L500.511 1.24676C500.504 1.24707 501.056 1.21963 501.895 1.24184L501.922 0.242188ZM500.46 0.248047L500.464 1.24804L501.926 1.24218L501.922 0.242188L501.918 -0.757804L500.456 -0.751945L500.46 0.248047ZM501.922 0.242188L501.895 1.24184C503.542 1.28538 506.059 1.51934 507.756 2.38176L508.209 1.49023L508.662 0.598714C506.531 -0.483832 503.614 -0.713402 501.948 -0.757463L501.922 0.242188ZM508.209 1.49023L507.756 2.38175C508.029 2.52067 508.548 2.87361 509.307 3.45699C510.046 4.02447 510.958 4.76681 511.997 5.63934C514.074 7.38356 516.631 9.62624 519.273 11.9831C524.556 16.6963 530.152 21.8425 532.879 24.3297L533.553 23.5908L534.227 22.852C531.508 20.3727 525.898 15.2136 520.604 10.4906C517.957 8.12933 515.383 5.8712 513.283 4.10788C512.234 3.22665 511.297 2.46354 510.526 1.87089C509.775 1.29414 509.122 0.832278 508.662 0.598721L508.209 1.49023ZM533.553 23.5908L532.879 24.3297C538.753 29.6872 539.556 35.6257 539.66 36.823L540.656 36.7364L541.652 36.6498C541.523 35.1655 540.605 28.6689 534.227 22.852L533.553 23.5908ZM541 36.8386H540V164H541H542V36.8386H541ZM533 172V171H8.21778V172V173H533V172ZM0.217773 164H1.21777V8H0.217773H-0.782227V164H0.217773ZM8.21777 0V1H540.951V0V-1H8.21777V0ZM540.951 0V1C540.425 1 540 0.573724 540 0.049407H541H542C542 -0.529483 541.531 -1 540.951 -1V0ZM0.217773 8H1.21777C1.21777 4.13401 4.35178 1 8.21777 1V0V-1C3.24721 -1 -0.782227 3.02944 -0.782227 8H0.217773ZM8.21778 172V171C4.35179 171 1.21777 167.866 1.21777 164H0.217773H-0.782227C-0.782227 168.971 3.24722 173 8.21778 173V172ZM541 164H540C540 167.866 536.866 171 533 171V172V173C537.971 173 542 168.971 542 164H541ZM540.833 36.7837L541.638 37.3763C541.119 38.0822 540 37.7149 540 36.8386H541H542C542 35.7835 540.653 35.3413 540.027 36.1911L540.833 36.7837ZM540.656 36.7364L539.66 36.823C539.752 37.884 541.072 38.1457 541.638 37.3763L540.833 36.7837L540.027 36.1911C540.279 35.8488 540.683 35.773 540.984 35.8529C541.289 35.9338 541.614 36.2095 541.652 36.6498L540.656 36.7364ZM540.951 0.0988136L540.954 1.09881C541.533 1.09668 542 0.627474 542 0.049407H541H540C540 -0.474228 540.423 -0.899256 540.947 -0.90118L540.951 0.0988136Z" fill="#3C3C3C" mask="url(#path-1-inside-1_9123_6897)"/>
    <defs>
      <linearGradient id="paint0_linear_9123_6897" x1="270.609" y1="172" x2="270.609" y2="0" gradientUnits="userSpaceOnUse">
        <stop stopOpacity="0"/>
        <stop offset="1" stopColor="#FFF100" stopOpacity="0.28"/>
      </linearGradient>
    </defs>
  </svg>
);

// SVG Chart para la gráfica en la parte inferior
const ChartSVG = () => (
  <svg 
    width="100%" 
    height="80" 
    viewBox="0 0 538 80" 
    fill="none" 
    xmlns="http://www.w3.org/2000/svg"
    preserveAspectRatio="none"
    style={{ display: 'block' }}
  >
    <path d="M31.8476 40.6426L4 31.426V80L528 78.0001V6L507.286 22L488.812 9.5L448.504 40.5L410.436 19.5L385.803 25.5L374.047 19.5L361.171 27.1913L339.897 12.5L320.303 28.6859L309.107 26L274.957 42.5L270.479 40L256.483 31L249.205 28.6859L245.286 21L238.052 13.4909L220.15 28.6859L212.857 27.1913L190.314 41.3899L187.661 42.6354L164.787 25.9458L157.825 28.6859L145.227 13.4909H142.906L128.32 25.9458H126.662L116.716 35.4115L105.113 46.6209L102.13 48.1155L95.4992 42.3863L81.5754 12.9927L78.2602 10.9999L72.9559 12.9927L63.3419 29.1841L59.6952 31.426L52.4018 27.9386L45.7714 29.1841L31.8476 40.6426Z" fill="url(#paint0_linear_chart)"/>
    <path d="M4 31.6274L30.4964 40.4855C31.9521 40.9721 33.5538 40.4707 34.5494 39.3027C38.3969 34.7886 48.4106 24.5997 56.5561 29.8907C66.8678 36.5885 67.469 9.29098 79.5079 11.2858C85.4953 12.2779 86.7568 24.99 92.148 35.5964C96.054 43.2809 97.8168 47.2688 102.644 47.9081C103.583 48.0325 104.497 47.6195 105.161 46.944L125.296 26.4675C125.762 25.9941 126.479 25.8738 127.073 26.1693C127.669 26.4655 128.388 26.3441 128.853 25.8688L140.464 14.0093C141.989 12.452 144.546 12.6328 145.836 14.3891L155.078 26.9683C156.023 28.254 157.712 28.7472 159.2 28.1718L163.747 26.4136C164.93 25.9561 166.267 26.1678 167.251 26.9683L185.591 41.8894C186.794 42.8676 188.493 42.948 189.783 42.0877L211.42 27.6495C212.348 27.0306 213.513 26.8859 214.564 27.259L217.806 28.4103C219.075 28.8611 220.49 28.5508 221.455 27.6102L235.195 14.2104C236.359 13.0755 238.146 12.8809 239.527 13.7389L240.423 14.2956C240.912 14.5997 241.32 15.0189 241.61 15.5167L248.72 27.7092C249.251 28.6196 250.16 29.2455 251.2 29.416L254.886 30.0204C255.429 30.1094 255.943 30.3237 256.388 30.6463L272.397 42.25C273.483 43.0371 274.921 43.1415 276.11 42.5194L307.045 26.3257C307.845 25.9071 308.775 25.8104 309.644 26.0556L318.659 28.5998C319.86 28.9388 321.151 28.6189 322.055 27.7581L337.368 13.1773C338.653 11.9532 340.647 11.8729 342.027 12.9897L359.703 27.2959C361.028 28.3683 362.929 28.3419 364.224 27.2332L371.862 20.6922C372.987 19.7281 374.595 19.5691 375.888 20.294L384.219 24.9651C385.028 25.4192 385.984 25.5363 386.88 25.2911L408.102 19.4795C409.018 19.2286 409.997 19.3572 410.817 19.8363L445.456 40.0666C446.728 40.8097 448.328 40.6852 449.47 39.7543L486.172 9.83835C487.472 8.77892 489.337 8.77893 490.637 9.83837L504.023 20.7498C505.344 21.827 507.246 21.8069 508.545 20.7021L527 5" stroke="#FFF000" strokeWidth="2.35556"/>
    <rect y="25" width="16" height="47" fill="url(#paint1_linear_chart)"/>
    <rect width="18" height="69" transform="matrix(-1 0 0 1 531 3)" fill="url(#paint2_linear_chart)"/>
    <defs>
      <linearGradient id="paint0_linear_chart" x1="122.684" y1="10.9999" x2="122.684" y2="80" gradientUnits="userSpaceOnUse">
        <stop stopColor="#FFF000" stopOpacity="0.3"/>
        <stop offset="1" stopColor="#FFF000" stopOpacity="0"/>
      </linearGradient>
      <linearGradient id="paint1_linear_chart" x1="6" y1="48.5" x2="16" y2="48.5" gradientUnits="userSpaceOnUse">
        <stop stopColor="#222120"/>
        <stop offset="1" stopColor="#222120" stopOpacity="0"/>
      </linearGradient>
      <linearGradient id="paint2_linear_chart" x1="6.75" y1="34.5" x2="18" y2="34.5" gradientUnits="userSpaceOnUse">
        <stop stopColor="#222120"/>
        <stop offset="1" stopColor="#222120" stopOpacity="0"/>
      </linearGradient>
    </defs>
  </svg>
);

export function EnterpriseInfoCardLarge({
  primaryText,
  secondaryText,
  className,
  gradientColor = "#fff000",
  backgroundColor = "#2d2d2d",
  height = 172,
  showChart = false,
}: EnterpriseInfoCardLargeProps) {
  return (
    <div 
      className={cn("relative w-full overflow-hidden isolate", className)} 
      style={{ height: `${height}px` }}
    >
      {/* SVG Background - mantiene dimensiones fijas aunque el contenedor se estire */}
      <div className="absolute inset-0" style={{ pointerEvents: 'none' }}>
        <LargeCardSVG />
      </div>

      {/* Content container */}
      <div className="relative z-10 h-full flex flex-col px-6 py-4">
        {/* Icono en la esquina superior derecha - respetando el clip-path del SVG */}
        <div 
          className="absolute"
          style={{ 
            top: '16px',
            right: '16px',
            zIndex: 15
          }}
        >
          <img
            src="/icons/Dashboard/BitCoinIconEnterprisePanel.svg"
            alt="Bitcoin Icon"
            className="w-auto h-auto"
            style={{
              maxWidth: '48px',
              maxHeight: '48px',
            }}
          />
        </div>

        {/* Texto principal - alineado a la izquierda arriba */}
        <div className="flex-1 flex flex-col justify-start" style={{ maxWidth: 'calc(100% - 80px)' }}>
          <div 
            className="text-white"
            style={{ 
              height: '40px',
              display: 'flex',
              alignItems: 'flex-start',
              fontFamily: 'Archivo, sans-serif',
              fontSize: '40px',
              lineHeight: '1'
            }}
          >
            {primaryText}
          </div>
          
          {/* Texto secundario - debajo del principal */}
          <div 
            className="text-gray-400 mt-1"
            style={{ 
              height: '18px',
              fontFamily: 'Archivo, sans-serif',
              fontSize: '14px',
              lineHeight: '1.29'
            }}
          >
            {secondaryText}
          </div>
        </div>
      </div>

      {/* Gráfica en la parte inferior - solo se muestra si showChart es true */}
      {showChart && (
        <div 
          className="absolute bottom-0 left-0 right-0"
          style={{ 
            height: '80px',
            zIndex: 5
          }}
        >
          <ChartSVG />
        </div>
      )}
    </div>
  )
}

export default EnterpriseInfoCardLarge

